<mxfile host="app.diagrams.net" modified="2021-11-22T15:31:42.603Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36" etag="T8Id6RqWLkaT5AsVYDi6" version="15.8.2" type="github" pages="4">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="webhook">
    <mxGraphModel dx="1859" dy="579" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="270" y="206" as="sourcePoint" />
            <mxPoint x="457" y="206" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gJ8kAtWAAKw_t7g4Scvq-2" target="gJ8kAtWAAKw_t7g4Scvq-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-2" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube ApiServer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="170" y="160" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-3" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="50" y="205" as="sourcePoint" />
            <mxPoint x="170" y="205" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-4" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-5" value="ANNOTATE Pod" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="60" y="205" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gJ8kAtWAAKw_t7g4Scvq-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="517" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-6" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Mutating Admission Webhook service&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="457" y="160" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gJ8kAtWAAKw_t7g4Scvq-8" target="gJ8kAtWAAKw_t7g4Scvq-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gJ8kAtWAAKw_t7g4Scvq-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-8" value="Need to mutate PodSpec?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="170" y="300" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-10" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="539" y="390" as="sourcePoint" />
            <mxPoint x="539" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-12" value="Etcd" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="460" y="310" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-14" value="&lt;span style=&quot;font-size: 12px&quot;&gt;Yes&lt;/span&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="344" y="330" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;startArrow=none;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gJ8kAtWAAKw_t7g4Scvq-36">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="517" y="100" as="sourcePoint" />
            <mxPoint x="220" y="100" as="targetPoint" />
            <Array as="points">
              <mxPoint x="517" y="100" />
              <mxPoint x="220" y="100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="gJ8kAtWAAKw_t7g4Scvq-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="100" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-36" value="Update Container list" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="310" y="80" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="gJ8kAtWAAKw_t7g4Scvq-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="350" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-41" value="No" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="110" y="280" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-42" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kubelet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="450" y="560" width="125" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-44" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH PodSpec Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="537" y="466" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-45" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;exitX=0.308;exitY=-0.037;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="gJ8kAtWAAKw_t7g4Scvq-42">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="390" as="sourcePoint" />
            <mxPoint x="489" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-46" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;If resource fits, set duplicate state&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;as InProgress, then create and start containers.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;Otherwise, set duplicate state as Infeasible.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;Status manager will finally update the duplicate state&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;as Nil&amp;nbsp;&lt;span&gt;when containers are up and running&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="190" y="431" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="gJ8kAtWAAKw_t7g4Scvq-47" value="Set duplicate state as Proposed" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270" y="352" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="D11Lsd8FtJEgQ72NZcWx-0" value="&lt;div&gt;apiVersion: v1&lt;/div&gt;&lt;div&gt;kind: Pod&lt;/div&gt;&lt;div&gt;metadata:&lt;/div&gt;&lt;div&gt;&amp;nbsp; name: 1pod&lt;/div&gt;&lt;div&gt;&amp;nbsp; annotations:&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; duplicate: &#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;1&quot;}&#39;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;spec:&lt;/div&gt;&lt;div&gt;&amp;nbsp; containers:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-158" y="170" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="D11Lsd8FtJEgQ72NZcWx-1" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;br&gt;&amp;nbsp; annotations:&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; duplicate: &#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;1&quot;}&#39;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="590" y="170" width="320" height="210" as="geometry" />
        </mxCell>
        <mxCell id="D11Lsd8FtJEgQ72NZcWx-2" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&lt;div&gt;containerStatuses:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - containerID: docker://f67ac21979b7dc3cf7d2fbf823732edb729ff8258d2fcd6a1ddaee74711ec003&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ready: true&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; state:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:37Z&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;font color=&quot;#ff3333&quot;&gt; - containerID: docker://905d76e3a5ad9671a2f1c4a79dcd85b46368162135312de5d0171b50dea37a1f&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; name: stress1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; ...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; state:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:51Z&quot;&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="590" y="520" width="510" height="540" as="geometry" />
        </mxCell>
        <mxCell id="D11Lsd8FtJEgQ72NZcWx-3" value="&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Pros&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Easy to implement&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Very few changes to k8s source. No change to k8s object model&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Cons&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Resource allocation decision&amp;nbsp;is supposed to be made by Scheduler.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;This may lead to a race-condition where kubelet may agree to an update based on its available capacity at the same time when the scheduler is assigning a new pod to that kubelet based on its view of the node capacity.&amp;nbsp;&lt;/font&gt;&lt;span id=&quot;docs-internal-guid-44bf292c-7fff-f98d-9bcf-c16e8a3c23c7&quot;&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#FF3333;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="100" y="690" width="320" height="280" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="b5eZfN_mTchJTnmyJi1k" name="annotation">
    <mxGraphModel dx="1882" dy="579" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="ITCLSx846kDoq1n6SzYH-0" />
        <mxCell id="ITCLSx846kDoq1n6SzYH-1" parent="ITCLSx846kDoq1n6SzYH-0" />
        <mxCell id="i_ennpGb39XRAHNqJxrH-2" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube ApiServer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="170" y="160" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-3" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="50" y="205" as="sourcePoint" />
            <mxPoint x="170" y="205" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-4" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-5" value="ANNOTATE Pod" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="60" y="205" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-11" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;exitX=1;exitY=0;exitDx=0;exitDy=52.5;exitPerimeter=0;" edge="1" parent="ITCLSx846kDoq1n6SzYH-1" source="i_ennpGb39XRAHNqJxrH-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="539" y="200" as="sourcePoint" />
            <mxPoint x="460" y="413" as="targetPoint" />
            <Array as="points">
              <mxPoint x="460" y="413" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-13" value="Etcd" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="164" y="360" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-20" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kubelet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="140" y="577" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-21" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH PodSpec Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="290" y="420" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-22" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;entryX=1;entryY=0;entryDx=0;entryDy=27.5;entryPerimeter=0;" edge="1" parent="ITCLSx846kDoq1n6SzYH-1" target="i_ennpGb39XRAHNqJxrH-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="388" as="sourcePoint" />
            <mxPoint x="489" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-23" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1. interpret annotation&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;If resource fits, set duplicate state&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;as InProgress, update the Container list&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;in Podspec, update scheduler cache.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;Otherwise, set duplicate state as Infeasible.&lt;/span&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="290" y="264" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="i_ennpGb39XRAHNqJxrH-25" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="ITCLSx846kDoq1n6SzYH-1" source="i_ennpGb39XRAHNqJxrH-2" target="i_ennpGb39XRAHNqJxrH-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="juz4PLPT8AiDiX2LW57e-0" value="Validate annotation&amp;nbsp;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#000000;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="100" y="300" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="juz4PLPT8AiDiX2LW57e-3" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube Scheduler&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="461" y="363" width="125" height="80" as="geometry" />
        </mxCell>
        <mxCell id="juz4PLPT8AiDiX2LW57e-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;exitX=0.855;exitY=1;exitDx=0;exitDy=-4.35;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="ITCLSx846kDoq1n6SzYH-1" source="i_ennpGb39XRAHNqJxrH-13" target="i_ennpGb39XRAHNqJxrH-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="284" y="423" as="sourcePoint" />
            <mxPoint x="470" y="423" as="targetPoint" />
            <Array as="points">
              <mxPoint x="260" y="436" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="juz4PLPT8AiDiX2LW57e-5" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH Pod Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="268" y="500" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="juz4PLPT8AiDiX2LW57e-6" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#000000;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.145;entryY=1;entryDx=0;entryDy=-4.35;entryPerimeter=0;" edge="1" parent="ITCLSx846kDoq1n6SzYH-1" source="i_ennpGb39XRAHNqJxrH-20" target="i_ennpGb39XRAHNqJxrH-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="540" as="sourcePoint" />
            <mxPoint x="330" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LSv40BOvI9iOODx8XyYR-0" value="&lt;div style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 14px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;For addition, create and start containers,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;set duplicate state as InProgress.&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; font-size: 12px&quot;&gt;&lt;div style=&quot;text-align: left&quot;&gt;status manager will finally update the duplicate state as Nil when containers are up and running.&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;For deletion, stop containers upon Pod.Update.&lt;/div&gt;&lt;span style=&quot;text-align: left&quot;&gt;Set duplicate state as InProgress. When containers are terminated, update PodSpec.&lt;/span&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp;&lt;/div&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fontColor=#000000;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="-90" y="443" width="260" height="137" as="geometry" />
        </mxCell>
        <mxCell id="bN04X_4NJ7RiUgSIrAoa-0" value="&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Pros&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Let scheduler decides&amp;nbsp;the pod duplicate status.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Use annotations to denote that the containers are to scale up or down. For addition, update PodSpec when resource fits. For deletion, remove containers in PodSpec when containers are terminated.&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Cons&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;The community possibly would not favor container list mutation.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#FF3333;align=left;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="540" y="720" width="320" height="280" as="geometry" />
        </mxCell>
        <mxCell id="GDD04WPXChaqu8gwVFN9-0" value="&lt;div&gt;apiVersion: v1&lt;/div&gt;&lt;div&gt;kind: Pod&lt;/div&gt;&lt;div&gt;metadata:&lt;/div&gt;&lt;div&gt;&amp;nbsp; name: 1pod&lt;/div&gt;&lt;div&gt;&amp;nbsp; annotations:&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; duplicate: &#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;1&quot;}&#39;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;spec:&lt;/div&gt;&lt;div&gt;&amp;nbsp; containers:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="-160" y="130" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="qU8DvFjRQlB7kfs-6-CU-0" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="540" y="130" width="300" height="210" as="geometry" />
        </mxCell>
        <mxCell id="qU8DvFjRQlB7kfs-6-CU-1" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; containsToRemove: &#39;[&#39;stress1&#39;]&#39;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="540" y="464" width="300" height="210" as="geometry" />
        </mxCell>
        <mxCell id="0U7TxLPYdXrzU4iYy4nD-0" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&lt;div&gt;containerStatuses:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - containerID: docker://f67ac21979b7dc3cf7d2fbf823732edb729ff8258d2fcd6a1ddaee74711ec003&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ready: true&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; state:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:37Z&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;font color=&quot;#ff3333&quot;&gt; - containerID: docker://905d76e3a5ad9671a2f1c4a79dcd85b46368162135312de5d0171b50dea37a1f&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; name: stress1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; ...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; state:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:51Z&quot;&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=none;" vertex="1" parent="ITCLSx846kDoq1n6SzYH-1">
          <mxGeometry x="-90" y="674" width="510" height="540" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="pod attribute" id="Iw5p7GnQtJDobvQ6vwvw">
    <mxGraphModel dx="1882" dy="579" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-0" />
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-1" parent="LiKTIXCdsz4_5ox_9OFq-0" />
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-2" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube ApiServer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="170" y="160" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-3" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="50" y="205" as="sourcePoint" />
            <mxPoint x="170" y="205" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-4" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-5" value="ANNOTATE Pod" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="60" y="205" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-6" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;exitX=1;exitY=0;exitDx=0;exitDy=52.5;exitPerimeter=0;" edge="1" parent="LiKTIXCdsz4_5ox_9OFq-1" source="LiKTIXCdsz4_5ox_9OFq-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="539" y="200" as="sourcePoint" />
            <mxPoint x="460" y="413" as="targetPoint" />
            <Array as="points">
              <mxPoint x="460" y="413" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-8" value="Etcd" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="164" y="360" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-9" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kubelet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="140" y="577" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-10" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH PodSpec Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="290" y="420" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-11" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;entryX=1;entryY=0;entryDx=0;entryDy=27.5;entryPerimeter=0;" edge="1" parent="LiKTIXCdsz4_5ox_9OFq-1" target="LiKTIXCdsz4_5ox_9OFq-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="388" as="sourcePoint" />
            <mxPoint x="489" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-12" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1. interpret attribute&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;If resource fits, set duplicate state&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;as InProgress, update the Container list&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;in Podspec, update scheduler cache.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;Otherwise, set duplicate state as Infeasible.&lt;/span&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="290" y="264" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-13" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="LiKTIXCdsz4_5ox_9OFq-1" source="LiKTIXCdsz4_5ox_9OFq-2" target="LiKTIXCdsz4_5ox_9OFq-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-14" value="Validate annotation&amp;nbsp;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#000000;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="100" y="300" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-15" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube Scheduler&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="461" y="363" width="125" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;exitX=0.855;exitY=1;exitDx=0;exitDy=-4.35;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="LiKTIXCdsz4_5ox_9OFq-1" source="LiKTIXCdsz4_5ox_9OFq-8" target="LiKTIXCdsz4_5ox_9OFq-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="284" y="423" as="sourcePoint" />
            <mxPoint x="470" y="423" as="targetPoint" />
            <Array as="points">
              <mxPoint x="260" y="436" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-17" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH Pod Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="268" y="500" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-18" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#000000;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.145;entryY=1;entryDx=0;entryDy=-4.35;entryPerimeter=0;" edge="1" parent="LiKTIXCdsz4_5ox_9OFq-1" source="LiKTIXCdsz4_5ox_9OFq-9" target="LiKTIXCdsz4_5ox_9OFq-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="540" as="sourcePoint" />
            <mxPoint x="330" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-19" value="&lt;div style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 14px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;For addition, create and start containers,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;set duplicate state as InProgress.&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; font-size: 12px&quot;&gt;&lt;div style=&quot;text-align: left&quot;&gt;status manager will finally update the duplicate state as Nil when containers are up and running.&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;For deletion, stop containers upon Pod.Update.&lt;/div&gt;&lt;span style=&quot;text-align: left&quot;&gt;Set duplicate state as InProgress. When containers are terminated, update PodSpec.&lt;/span&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp;&lt;/div&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fontColor=#000000;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="-90" y="443" width="260" height="137" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-20" value="&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Pros&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Need to define a new attribute in the PodSpec. including&amp;nbsp;attribute value validation&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Use a dedicated pod attribute to denote that the containers are to scale up or down.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Cons&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;The community possibly would not favor container list mutation.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Involve more code changes than option 2.&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#FF3333;align=left;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="540" y="720" width="320" height="230" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-21" value="&lt;div&gt;apiVersion: v1&lt;/div&gt;&lt;div&gt;kind: Pod&lt;/div&gt;&lt;div&gt;metadata:&lt;/div&gt;&lt;div&gt;&amp;nbsp; name: 1pod&lt;/div&gt;&lt;div&gt;&lt;span&gt;spec:&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; replica::&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;&#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;2&quot;}&#39;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; containers:&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; - name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="-160" y="130" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-22" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;span&gt;replica::&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;&#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;2&quot;}&#39;&lt;/span&gt;&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="540" y="130" width="300" height="210" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-23" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp;&amp;nbsp;replica::&amp;nbsp;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;&#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;1&quot;}&#39;&lt;/span&gt;&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="540" y="464" width="300" height="210" as="geometry" />
        </mxCell>
        <mxCell id="LiKTIXCdsz4_5ox_9OFq-24" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp;&amp;nbsp;replica::&amp;nbsp;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;&#39;{&quot;containerName&quot;: &quot;stress&quot;, &quot;replica&quot;: &quot;2&quot;}&#39;&lt;/span&gt;&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&lt;div&gt;containerStatuses:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - containerID: docker://f67ac21979b7dc3cf7d2fbf823732edb729ff8258d2fcd6a1ddaee74711ec003&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ready: true&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; state:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:37Z&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;font color=&quot;#ff3333&quot;&gt; - containerID: docker://905d76e3a5ad9671a2f1c4a79dcd85b46368162135312de5d0171b50dea37a1f&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; name: stress1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; ...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; state:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:51Z&quot;&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=none;" vertex="1" parent="LiKTIXCdsz4_5ox_9OFq-1">
          <mxGeometry x="-90" y="674" width="510" height="540" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="lKqsShuAqBGbPSmW4KfP" name="container attributes">
    <mxGraphModel dx="1882" dy="579" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="0" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="UvkZxEzqPrCQQuInUelh-0" />
        <mxCell id="UvkZxEzqPrCQQuInUelh-1" parent="UvkZxEzqPrCQQuInUelh-0" />
        <mxCell id="qEboIL6CohF3YUrAIsk3-0" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube ApiServer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="170" y="160" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-1" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="50" y="205" as="sourcePoint" />
            <mxPoint x="170" y="205" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-2" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-3" value="ANNOTATE Pod" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="60" y="205" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-4" value="PATCH&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="80" y="185" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;exitX=1;exitY=0;exitDx=0;exitDy=52.5;exitPerimeter=0;" edge="1" parent="UvkZxEzqPrCQQuInUelh-1" source="qEboIL6CohF3YUrAIsk3-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="539" y="200" as="sourcePoint" />
            <mxPoint x="460" y="413" as="targetPoint" />
            <Array as="points">
              <mxPoint x="460" y="413" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-6" value="Etcd" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="164" y="360" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-7" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kubelet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="140" y="577" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-8" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH PodSpec Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="290" y="420" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-9" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;entryX=1;entryY=0;entryDx=0;entryDy=27.5;entryPerimeter=0;" edge="1" parent="UvkZxEzqPrCQQuInUelh-1" target="qEboIL6CohF3YUrAIsk3-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="388" as="sourcePoint" />
            <mxPoint x="489" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-10" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;1. interpret attribute&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;2.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;If resource fits, set duplicate state&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;as InProgress, update the ContainerStatuses list&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;in Podspec, update scheduler cache.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;Otherwise, set duplicate state as Infeasible.&lt;/span&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="260" y="265" width="280" height="90" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-11" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="UvkZxEzqPrCQQuInUelh-1" source="qEboIL6CohF3YUrAIsk3-0" target="qEboIL6CohF3YUrAIsk3-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-12" value="Validate annotation&amp;nbsp;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#000000;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="100" y="300" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-13" value="&lt;font style=&quot;font-size: 14px&quot;&gt;Kube Scheduler&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="461" y="363" width="125" height="80" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=14;dashed=1;exitX=0.855;exitY=1;exitDx=0;exitDy=-4.35;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="UvkZxEzqPrCQQuInUelh-1" source="qEboIL6CohF3YUrAIsk3-6" target="qEboIL6CohF3YUrAIsk3-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="284" y="423" as="sourcePoint" />
            <mxPoint x="470" y="423" as="targetPoint" />
            <Array as="points">
              <mxPoint x="260" y="436" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-15" value="&lt;font style=&quot;font-size: 12px&quot;&gt;WATCH Pod Update&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontFamily=Helvetica;fontSize=14;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="268" y="500" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-16" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#000000;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.145;entryY=1;entryDx=0;entryDy=-4.35;entryPerimeter=0;" edge="1" parent="UvkZxEzqPrCQQuInUelh-1" source="qEboIL6CohF3YUrAIsk3-7" target="qEboIL6CohF3YUrAIsk3-6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="540" as="sourcePoint" />
            <mxPoint x="330" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-17" value="&lt;div style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 14px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; text-align: left&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;For addition, create and start containers,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;set duplicate state as InProgress.&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; font-size: 12px&quot;&gt;&lt;div style=&quot;text-align: left&quot;&gt;Status Manager will finally update the duplicate state as Nil when containers are up and running.&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;For deletion, stop containers upon Pod.Update.&lt;/div&gt;&lt;span style=&quot;text-align: left&quot;&gt;Set duplicate state as InProgress. When containers are terminated, remove the container status in PodSpec.&lt;/span&gt;&lt;div style=&quot;text-align: left&quot;&gt;&amp;nbsp;&lt;/div&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fontColor=#000000;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="-90" y="443" width="260" height="137" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-18" value="&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Pros&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Add a&amp;nbsp; new attribute to Container Object. Make no changes to the length of the container list.&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;The container list is getting very long if the replica is large.&amp;nbsp; Remove the redundant, duplicate info in Container list.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;Cons&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Need to define a new attribute in the container object. Add attribute value validation&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font color=&quot;#000000&quot;&gt;Require a lot of code change to maintain&amp;nbsp;a one-to-many mapping between the replica and its container statuses.&amp;nbsp;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=#FF3333;align=left;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="520" y="760" width="320" height="280" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-19" value="&lt;div&gt;apiVersion: v1&lt;/div&gt;&lt;div&gt;kind: Pod&lt;/div&gt;&lt;div&gt;metadata:&lt;/div&gt;&lt;div&gt;&amp;nbsp; name: 1pod&lt;/div&gt;&lt;div&gt;spec:&lt;/div&gt;&lt;div&gt;&amp;nbsp; containers:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; replica: 2&lt;/font&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; ...&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="-160" y="151" width="200" height="160" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-20" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; replicate: 2&lt;br&gt;&lt;/font&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;containerStatuses:&lt;br&gt;&amp;nbsp;- name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp;image:&amp;nbsp;&amp;nbsp;skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp;- &lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="540" y="110" width="300" height="242" as="geometry" />
        </mxCell>
        <mxCell id="qEboIL6CohF3YUrAIsk3-21" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; containsToRemove: &#39;[&#39;stress1&#39;]&#39;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; replica: 1&lt;br&gt;&lt;/font&gt;&amp;nbsp; &amp;nbsp; …&lt;br&gt;containerStatuses:&lt;br&gt;&amp;nbsp;- name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp;image:&amp;nbsp;&amp;nbsp;skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp;-&amp;nbsp;&lt;font color=&quot;#ff3333&quot;&gt;name: stress1&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ..." style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="540" y="464" width="300" height="256" as="geometry" />
        </mxCell>
        <mxCell id="J-0i9UX3y7WsBJK10lQc-0" value="apiVersion: v1&lt;br&gt;kind: Pod&lt;br&gt;metadata:&lt;br&gt;&amp;nbsp; name: 1pod&lt;font color=&quot;#ff3333&quot;&gt;&lt;br&gt;&lt;/font&gt;spec:&lt;br&gt;&amp;nbsp; containers:&lt;br&gt;&amp;nbsp; - name: stress&lt;br&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;br&gt;&amp;nbsp; &amp;nbsp; &lt;font color=&quot;#ff3333&quot;&gt;replica: 2&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&lt;div&gt;containerStatuses:&lt;/div&gt;&lt;div&gt;&amp;nbsp; - containerID: docker://f67ac21979b7dc3cf7d2fbf823732edb729ff8258d2fcd6a1ddaee74711ec003&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; name: stress&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ready: true&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; state:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:37Z&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;font color=&quot;#ff3333&quot;&gt; - containerID: docker://905d76e3a5ad9671a2f1c4a79dcd85b46368162135312de5d0171b50dea37a1f&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; image: skiibum/ubuntu-stress:18.10&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; imageID: docker-pullable://skiibum/ubuntu-stress@sha256:161c50ff4ccc79744c29ea0f337652ce2854ce827914160c7043646b1f8988ba&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; lastState: {}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; name: stress1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; ...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; state:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; running:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; startedAt: &quot;2021-11-22T08:14:51Z&quot;&lt;/font&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;fontFamily=Helvetica;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="UvkZxEzqPrCQQuInUelh-1">
          <mxGeometry x="-70" y="670" width="510" height="510" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
